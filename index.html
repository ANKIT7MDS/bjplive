<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <title>рднрд╛рдЬрдкрд╛ рдХрд╛рд░реНрдпрд╛рд▓рдп рдлреЙрд░реНрдо</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background-color: #fff4e0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding-top: 30px;
    }

    form {
      background: #ffa726;
      padding: 25px 30px;
      border-radius: 10px;
      width: 100%;
      max-width: 600px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      color: #fff;
      margin-bottom: 20px;
    }

    label {
      color: #ffffff;
      font-weight: bold;
      margin-top: 10px;
      display: block;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      border: none;
      border-radius: 6px;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.1);
      font-size: 16px;
    }

    button {
      background-color: #ffffff;
      color: #e65100;
      padding: 12px;
      margin-top: 15px;
      border: none;
      border-radius: 6px;
      font-weight: bold;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #ffcc80;
    }

    #camera-stream, #selfiePreview {
      width: 100%;
      max-width: 300px;
      border-radius: 10px;
      margin-top: 15px;
      border: 2px solid white;
    }

    .centered {
      text-align: center;
    }

    .success {
      text-align: center;
      font-weight: bold;
      margin-top: 15px;
      color: green;
    }

    canvas {
      display: none;
    }
  </style>
</head>
<body>

  <form id="myForm" method="POST" action="https://script.google.com/macros/s/YOUR-SCRIPT-ID/exec">
    <h2>ЁЯУЛ рднрд╛рдЬрдкрд╛ рдХрд╛рд░реНрдпрд╛рд▓рдп рдЖрдЧрдВрддреБрдХ рдлреЙрд░реНрдо</h2>

    <label>рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░:</label>
    <input type="text" name="рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░" required />

    <label>рдирд╛рдо:</label>
    <input type="text" name="рдирд╛рдо" required />

    <label>рдкрдж:</label>
    <input type="text" name="рдкрдж" />

    <label>рдордВрдбрд▓:</label>
    <select name="рдордВрдбрд▓" required>
      <option value="">рдордВрдбрд▓ рдЪреБрдиреЗрдВ</option>
      <option>рднреИрд╕рджрд╛</option><option>рднрд╛рдирдкреБрд░рд╛</option><option>рдЧрд░реЛрда</option><option>рдореЗрд▓рдЦреЗрдбрд╝рд╛</option>
      <option>рдЦрдЦрд░рд╛рдЦреЗрдбрд╝реА</option><option>рд╕рд╛рдордЧрдврд╝</option><option>рд╕реБрдЦрд╛рд╡рдбрд╝рд╛</option><option>рдмрд╕рдИ</option>
      <option>рд╕реАрддрд╛рдордК рдЧреНрд░рд╛рдореАрдг</option><option>рд╕реАрддрд╛рдордК</option><option>рдХрдВрд╡рд▓рд╛</option><option>рдЧреБрд░реНрдЬрд░ рдмрд░реНрдбрд┐рдпрд╛</option>
      <option>рдмреБрдВрджрдбрд╝рдХрд╛</option><option>рдкрд┐рдкрд▓рд┐рдпрд╛ рдордВрдбреА</option><option>рдмреБрдврд╛</option><option>рдорд╣реВрдЧрдврд╝</option>
      <option>рджрддрд╛рд╡</option><option>рдордЧрд░рд╛рдорддреНрддрд╛ рдЬреА</option><option>рдордВрджрд╕реМрд░ рдЧреНрд░рд╛рдореАрдг</option>
    </select>

    <label>рдмреВрде / рд╡рд╛рд░реНрдб / рдкрддрд╛:</label>
    <input type="text" name="рдмреВрде / рд╡рд╛рд░реНрдб / рдкрддрд╛" />

    <label>рдЖрдиреЗ рдХрд╛ рдХрд╛рд░рдг:</label>
    <select name="purpose" required>
      <option value="">рдЖрдиреЗ рдХрд╛ рдХрд╛рд░рдг рдЪреБрдиреЗрдВ</option>
      <option>рдХрд╛рд░реНрдпрд╛рд▓рдп рдкрд░ рдмреИрдардХ рдореЗрдВ</option>
      <option>рдорд╛рдирдиреАрдп рдЬрд┐рд▓рд╛ рдЕрдзреНрдпрдХреНрд╖ рдЬреА рд╕реЗ рдХрд┐рд╕реА рдХрд╛рд░реНрдп рд╣реЗрддреБ рднреЗрдВрдЯ</option>
      <option>рдЯреНрд░рд╛рдВрд╕рдлрд░ рдпрд╛ рдЕрдиреНрдп рдХреЛрдИ рд╢рд╛рд╕рдХреАрдп рдХрд╛рд░реНрдп / рд╢рд┐рдХрд╛рдпрдд</option>
      <option>рдХрд╛рд░реНрдпрд╛рд▓рдп рдкрд░ рд╕рд╛рдорд╛рдиреНрдп рдЙрдкрд╕реНрдерд┐рддрд┐</option>
      <option>рдЕрдиреНрдп рдХреЛрдИ рдХрд╛рд░реНрдп</option>
    </select>

    <input type="hidden" name="Selfie" id="selfieInput" />

    <div class="centered">
      <video id="camera-stream" autoplay></video>
      <canvas id="canvas" width="300" height="220"></canvas>
      <button type="button" id="capture">ЁЯУ╕ рдлреЛрдЯреЛ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВ</button>
      <img id="selfiePreview" />
    </div>

    <div id="statusMessage" class="success"></div>

    <button type="submit">тЬЕ рд╕рдмрдорд┐рдЯ рдХрд░реЗрдВ</button>
  </form>

<script>
  const video = document.getElementById('camera-stream');
  const canvas = document.getElementById('canvas');
  const selfieInput = document.getElementById('selfieInput');
  const captureBtn = document.getElementById('capture');
  const preview = document.getElementById('selfiePreview');
  const statusMsg = document.getElementById('statusMessage');
  const form = document.getElementById('myForm');

  navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
    video.srcObject = stream;
  }).catch(err => {
    console.error("рдХреИрдорд░рд╛ рдПрд░рд░:", err);
    alert("рдХреИрдорд░рд╛ рдЪрд╛рд▓реВ рдирд╣реАрдВ рд╣реЛ рдкрд╛рдпрд╛! рдЕрдиреБрдорддрд┐ рджреЗрдВ рдпрд╛ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдмрджрд▓реЗрдВред");
  });

  captureBtn.addEventListener('click', () => {
    const context = canvas.getContext('2d');
    context.drawImage(video, 0, 0, canvas.width, canvas.height);
    const imageData = canvas.toDataURL('image/png');
    selfieInput.value = imageData;
    preview.src = imageData;
    preview.style.display = 'block';
    statusMsg.textContent = "тЬЕ рдлреЛрдЯреЛ рдХреИрдкреНрдЪрд░ рд╣реЛ рдЧрдпрд╛ рд╣реИред";
  });

  form.addEventListener('submit', function(e) {
    if (!selfieInput.value) {
      e.preventDefault();
      alert("рдХреГрдкрдпрд╛ рдкрд╣рд▓реЗ рдлреЛрдЯреЛ рдХреИрдкреНрдЪрд░ рдХрд░реЗрдВ ЁЯУ╕");
      return;
    }

    statusMsg.textContent = "ЁЯЪА рдбреЗрдЯрд╛ рд╕рдмрдорд┐рдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд░рд╣рд╛ рд╣реИ...";
    // тЬЕ рдлреЙрд░реНрдо рдЦреБрдж рдХреЛ reset рдирд╣реАрдВ рдХрд░реЗрдЧрд╛
    setTimeout(() => {
      statusMsg.textContent = "ЁЯОЙ рдЖрдкрдХрд╛ рдлреЙрд░реНрдо рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рд╕рдмрдорд┐рдЯ рд╣реБрдЖ!";
    }, 2000);
  });
</script>

</body>
</html>
